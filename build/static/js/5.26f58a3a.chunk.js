(this["webpackJsonproger-web-tht"]=this["webpackJsonproger-web-tht"]||[]).push([[5],{103:function(e,t){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return n.test(e)}},1239:function(e,t,n){var r=n(59),c=n(1240);e.exports=function(e){return c(r(e).toLowerCase())}},1240:function(e,t,n){var r=n(1241)("toUpperCase");e.exports=r},1241:function(e,t,n){var r=n(1242),c=n(103),a=n(1244),o=n(59);e.exports=function(e){return function(t){t=o(t);var n=c(t)?a(t):void 0,i=n?n[0]:t.charAt(0),u=n?r(n,1).join(""):t.slice(1);return i[e]()+u}}},1242:function(e,t,n){var r=n(1243);e.exports=function(e,t,n){var c=e.length;return n=void 0===n?c:n,!t&&n>=c?e:r(e,t,n)}},1243:function(e,t){e.exports=function(e,t,n){var r=-1,c=e.length;t<0&&(t=-t>c?0:c+t),(n=n>c?c:n)<0&&(n+=c),c=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(c);++r<c;)a[r]=e[r+t];return a}},1244:function(e,t,n){var r=n(1245),c=n(103),a=n(1246);e.exports=function(e){return c(e)?a(e):r(e)}},1245:function(e,t){e.exports=function(e){return e.split("")}},1246:function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",c="\\ud83c[\\udffb-\\udfff]",a="[^\\ud800-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",i="[\\ud800-\\udbff][\\udc00-\\udfff]",u="(?:"+r+"|"+c+")"+"?",s="[\\ufe0e\\ufe0f]?",f=s+u+("(?:\\u200d(?:"+[a,o,i].join("|")+")"+s+u+")*"),l="(?:"+[a+r+"?",r,o,i,n].join("|")+")",p=RegExp(c+"(?="+c+")|"+l+f,"g");e.exports=function(e){return e.match(p)||[]}},1250:function(e,t,n){"use strict";n.r(t),n.d(t,"ExpenseItemRoute",(function(){return N}));var r=n(63),c=n(48),a=n(46),o=n(61),i=n(7),u=n(0),s=n(64),f=n(47),l=n(49),p=n(2),d=n(1),b=i.c.div.withConfig({displayName:"InfoItem__Container",componentId:"sc-107h242-0"})(["display:flex;border-top:1px solid #f1f1f1;padding:10px 5px;font-size:12px;"]),v=i.c.div.withConfig({displayName:"InfoItem__Title",componentId:"sc-107h242-1"})(["font-weight:bold;flex:0 1 200px;"]),j=i.c.div.withConfig({displayName:"InfoItem__Info",componentId:"sc-107h242-2"})(["flex:1;"]),h=function(e){var t=e.title,n=e.info;return Object(d.jsxs)(b,{children:[Object(d.jsx)(v,{children:t}),Object(d.jsx)(j,{children:n})]})},x=Object(u.memo)(h),O=n(62),m=n(1239),g=n.n(m),y=n(80),w=n(81),S=i.c.div.withConfig({displayName:"ExpenseItemRoute__ButtonContainer",componentId:"sc-e3e9ev-0"})(["display:flex;align-items:center;"]),k=Object(i.c)(f.a).withConfig({displayName:"ExpenseItemRoute__StyledButton",componentId:"sc-e3e9ev-1"})(["margin-left:10px;display:flex;justify-content:center;align-items:center;"]),E=i.c.span.withConfig({displayName:"ExpenseItemRoute__StatusInfo",componentId:"sc-e3e9ev-2"})(["margin-right:10px;"]),I=i.c.span.withConfig({displayName:"ExpenseItemRoute__StatusInfoContainer",componentId:"sc-e3e9ev-3"})(["display:flex;"]),N=function(e){var t=e.match,n=Object(p.g)(),i=Object(y.a)(),f=Object(u.useState)(),b=Object(o.a)(f,2),v=b[0],j=b[1],h=Object(u.useState)(),m=Object(o.a)(h,2),N=m[0],C=m[1],A=Object(u.useState)(!1),_=Object(o.a)(A,2),P=_[0],D=_[1],z=Object(u.useState)(!1),R=Object(o.a)(z,2),B=R[0],G=R[1],L=t.params.id;Object(u.useEffect)((function(){var e=function(){var e=Object(a.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(void 0),e.prev=1,e.next=4,l.b.getExpense(L);case 4:t=e.sent,C(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),j(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[L,C]);var M=Object(u.useCallback)((function(e){C(e)}),[C]);Object(u.useEffect)((function(){return l.b.on("expenseAnalyzed",M),function(){l.b.off("expenseAnalyzed",M)}}),[M]);var T=Object(u.useCallback)(Object(a.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N){e.next=2;break}return e.abrupt("return");case 2:return j(void 0),D(!0),e.prev=4,e.next=7,l.b.patchExpense(L,Object(r.a)(Object(r.a)({},N),{},{status:l.a.PAID}));case 7:t=e.sent,C(t),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),j(e.t0);case 14:return e.prev=14,i&&D(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[4,11,14,17]])}))),[L,C,N,D,i]),U=Object(u.useCallback)(Object(a.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N){e.next=2;break}return e.abrupt("return");case 2:if(t=window.confirm("Are you sure you want to delete expanse")){e.next=5;break}return e.abrupt("return",t);case 5:return j(void 0),G(!0),e.prev=7,e.next=10,l.b.deleteExpense(L);case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(7),j(e.t0);case 15:return e.prev=15,i&&G(!1),n.push("/expenses"),e.finish(15);case 19:case"end":return e.stop()}}),e,null,[[7,12,15,19]])}))),[N,L,n,i]),Y=Object(u.useCallback)((function(){n.push("/expenses")}),[n]);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(s.a,{title:"Expenses from ".concat(N&&N.vendorName?N.vendorName:"..."),children:N&&N.status===l.a.UNPAID?Object(d.jsxs)(S,{children:[Object(d.jsx)(k,{onClick:T,children:"Pay"}),Object(d.jsxs)(k,{onClick:U,backgroundColor:"#cd444a",children:["Delete ",B&&Object(d.jsx)(O.a,{size:"sm"})]})]}):Object(d.jsx)(k,{onClick:Y,children:"Show all expenses"})}),v&&Object(d.jsx)(w.a,{text:v.message}),N?Object(d.jsxs)("div",{children:[Object(d.jsx)(x,{title:"Status",info:Object(d.jsxs)(I,{children:[Object(d.jsx)(E,{children:g()(N.status)}),(N.status===l.a.ANALYZING||P)&&Object(d.jsx)(O.a,{size:"sm"})]})}),Object(d.jsx)(x,{title:"Vendor",info:N.vendorName}),Object(d.jsx)(x,{title:"Amount",info:N.amount}),Object(d.jsx)(x,{title:"Date",info:N.createdAt&&new Date(N.createdAt).toLocaleString()}),Object(d.jsx)(x,{title:"Filename",info:N.filename})]}):Object(d.jsx)(O.a,{})]})};t.default=N},40:function(e,t){var n=Array.isArray;e.exports=n},41:function(e,t,n){var r=n(54),c="object"==typeof self&&self&&self.Object===Object&&self,a=r||c||Function("return this")();e.exports=a},42:function(e,t,n){var r=n(41).Symbol;e.exports=r},44:function(e,t,n){var r=n(42),c=n(69),a=n(70),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?c(e):a(e)}},45:function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},47:function(e,t,n){"use strict";var r,c,a=n(9),o=n(7),i=n(0),u=n(1),s=function(e){var t=e.className,n=e.onClick,r=e.color,c=e.backgroundColor,a=e.children,o=e.variant,i=void 0===o?"primary":o;return Object(u.jsx)(f,{className:t,color:r,backgroundColor:c,onClick:n,variant:i,children:a})},f=o.c.button.withConfig({displayName:"Button__ButtonStyled",componentId:"sc-4p76xp-0"})(["display:flex;align-items:center;justify-content:center;border-radius:4px;border:none;cursor:pointer;padding:5px 10px;user-select:none;color:",";background-color:",";"," ",""],(function(e){return e.color||"white"}),(function(e){return e.backgroundColor||"#371e88"}),(function(e){return"primary"===e.variant&&Object(o.b)(r||(r=Object(a.a)(["\n      background-color: #0071b1;\n      &:hover,\n      &:focus {\n        filter: brightness(112%);\n      }\n      &:active {\n        filter: brightness(124%);\n      }\n    "])))}),(function(e){return"danger"===e.variant&&Object(o.b)(c||(c=Object(a.a)(["\n      background-color: #d73814;\n      &:hover,\n      &:focus {\n        filter: brightness(112%);\n      }\n      &:active {\n        filter: brightness(124%);\n      }\n    "])))}));t.a=Object(i.memo)(s)},49:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return d}));var r,c=n(48),a=n(46),o=n(65),i=n(66),u=n(53),s=n.n(u),f=n(67),l=n.n(f);!function(e){e.ANALYZING="ANALYZING",e.UNPAID="UNPAID",e.PAID="PAID"}(r||(r={}));var p=function(){function e(){Object(o.a)(this,e),this.listeners=new Map}return Object(i.a)(e,[{key:"getExpense",value:function(){var e=Object(a.a)(Object(c.a)().mark((function e(t){var n;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:if((n=this.getExpensesStorage())[t]){e.next=5;break}throw new Error("Expense '".concat(t,"' not found"));case 5:return e.abrupt("return",n[t]);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"listExpenses",value:function(){var e=Object(a.a)(Object(c.a)().mark((function e(){var t;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:return t=this.getExpensesStorage(),e.abrupt("return",Object.values(t).sort((function(e,t){return t.createdAt.localeCompare(t.createdAt)})));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"uploadExpense",value:function(){var e=Object(a.a)(Object(c.a)().mark((function e(t){var n,a=this;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(2e3,4e3);case 2:return n={id:s()(),createdAt:(new Date).toISOString(),filename:t.name,status:r.ANALYZING,vendorName:null,amount:null},this.updateExpensesStorage((function(e){return e[n.id]=n,e})),setTimeout((function(){a.updateExpensesStorage((function(e){var t=e[n.id];return t&&(t.status=r.UNPAID,t.vendorName=l.a.company.companyName(),t.amount=l.a.commerce.price()),e}));var e=a.getExpensesStorage();a.emit("expenseAnalyzed",e[n.id])}),b(3e3,8e3)),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"patchExpense",value:function(){var e=Object(a.a)(Object(c.a)().mark((function e(t,n){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:return this.updateExpensesStorage((function(e){if(!e[t])throw new Error("Expense '".concat(t,"' not found"));return Object.assign(e[t],n),e})),e.abrupt("return",this.getExpensesStorage()[t]);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteExpense",value:function(){var e=Object(a.a)(Object(c.a)().mark((function e(t){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:this.updateExpensesStorage((function(e){return delete e[t],e}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=Object(a.a)(Object(c.a)().mark((function e(){return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.updateExpensesStorage((function(){return{}}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"on",value:function(e,t){var n=this.listeners.get(e);n||(n=new Set,this.listeners.set(e,n)),n.add(t)}},{key:"off",value:function(e,t){var n=this.listeners.get(e);n&&n.delete(t)}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var c=this.listeners.get(e);c&&c.forEach((function(e){return e.apply(void 0,n)}))}},{key:"getExpensesStorage",value:function(){var e=localStorage.getItem("roger-tht-expenses");return e?JSON.parse(e):{}}},{key:"updateExpensesStorage",value:function(e){var t=e(this.getExpensesStorage());localStorage.setItem("roger-tht-expenses",JSON.stringify(t))}}]),e}(),d=new p;function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return Math.round(e+Math.random()*t)}function v(){return j.apply(this,arguments)}function j(){return j=Object(a.a)(Object(c.a)().mark((function e(){var t,n,r=arguments;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:200,n=r.length>1&&void 0!==r[1]?r[1]:500,e.next=4,new Promise((function(e){return window.setTimeout(e,b(t,n))}));case 4:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}},51:function(e,t,n){var r=n(44),c=n(45);e.exports=function(e){return"symbol"==typeof e||c(e)&&"[object Symbol]"==r(e)}},52:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},54:function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(24))},59:function(e,t,n){var r=n(78);e.exports=function(e){return null==e?"":r(e)}},62:function(e,t,n){"use strict";var r,c,a,o=n(7),i=n(0),u=["title","titleId"];function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function f(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function l(e,t){var n=e.title,o=e.titleId,l=f(e,u);return i.createElement("svg",s({xmlns:"http://www.w3.org/2000/svg",width:200,height:200,className:"uil-ring",preserveAspectRatio:"xMidYMid",viewBox:"0 0 100 100",ref:t,"aria-labelledby":o},l),n?i.createElement("title",{id:o},n):null,r||(r=i.createElement("path",{fill:"none",d:"M0 0h100v100H0z",className:"bk"})),c||(c=i.createElement("defs",null,i.createElement("filter",{id:"a",width:"300%",height:"300%",x:"-100%",y:"-100%"},i.createElement("feOffset",{in:"SourceGraphic",result:"offOut"}),i.createElement("feGaussianBlur",{in:"offOut",result:"blurOut"}),i.createElement("feBlend",{in:"SourceGraphic",in2:"blurOut"})))),a||(a=i.createElement("path",{fill:"#009DE0",d:"M10 50s0 .5.1 1.4c0 .5.1 1 .2 1.7 0 .3.1.7.1 1.1.1.4.1.8.2 1.2.2.8.3 1.8.5 2.8.3 1 .6 2.1.9 3.2.3 1.1.9 2.3 1.4 3.5.5 1.2 1.2 2.4 1.8 3.7.3.6.8 1.2 1.2 1.9.4.6.8 1.3 1.3 1.9 1 1.2 1.9 2.6 3.1 3.7 2.2 2.5 5 4.7 7.9 6.7 3 2 6.5 3.4 10.1 4.6 3.6 1.1 7.5 1.5 11.2 1.6 4-.1 7.7-.6 11.3-1.6 3.6-1.2 7-2.6 10-4.6 3-2 5.8-4.2 7.9-6.7 1.2-1.2 2.1-2.5 3.1-3.7.5-.6.9-1.3 1.3-1.9.4-.6.8-1.3 1.2-1.9.6-1.3 1.3-2.5 1.8-3.7.5-1.2 1-2.4 1.4-3.5.3-1.1.6-2.2.9-3.2.2-1 .4-1.9.5-2.8.1-.4.1-.8.2-1.2 0-.4.1-.7.1-1.1.1-.7.1-1.2.2-1.7.1-.9.1-1.4.1-1.4V54.2c0 .4-.1.8-.1 1.2-.1.9-.2 1.8-.4 2.8-.2 1-.5 2.1-.7 3.3-.3 1.2-.8 2.4-1.2 3.7-.2.7-.5 1.3-.8 1.9-.3.7-.6 1.3-.9 2-.3.7-.7 1.3-1.1 2-.4.7-.7 1.4-1.2 2-1 1.3-1.9 2.7-3.1 4-2.2 2.7-5 5-8.1 7.1L70 85.7c-.8.5-1.7.9-2.6 1.3l-1.4.7-1.4.5c-.9.3-1.8.7-2.8 1C58 90.3 53.9 90.9 50 91l-3-.2c-1 0-2-.2-3-.3l-1.5-.2-.7-.1-.7-.2c-1-.3-1.9-.5-2.9-.7-.9-.3-1.9-.7-2.8-1l-1.4-.6-1.3-.6c-.9-.4-1.8-.8-2.6-1.3l-2.4-1.5c-3.1-2.1-5.9-4.5-8.1-7.1-1.2-1.2-2.1-2.7-3.1-4-.5-.6-.8-1.4-1.2-2-.4-.7-.8-1.3-1.1-2-.3-.7-.6-1.3-.9-2-.3-.7-.6-1.3-.8-1.9-.4-1.3-.9-2.5-1.2-3.7-.3-1.2-.5-2.3-.7-3.3-.2-1-.3-2-.4-2.8-.1-.4-.1-.8-.1-1.2v-2.8c-.1-1-.1-1.5-.1-1.5z",filter:"url(#a)"},i.createElement("animateTransform",{attributeName:"transform",dur:"1s",from:"0 50 50",repeatCount:"indefinite",to:"360 50 50",type:"rotate"}))))}var p=i.forwardRef(l),d=(n.p,n(1)),b=o.c.div.withConfig({displayName:"Spinner__SpinnerContainer",componentId:"sc-avs4so-0"})(["display:flex;align-items:center;"]),v=o.c.span.withConfig({displayName:"Spinner__SpinnerText",componentId:"sc-avs4so-1"})(["margin-left:10px;"]),j=Object(o.c)(p).withConfig({displayName:"Spinner__StyledSpinnerIcon",componentId:"sc-avs4so-2"})(["height:",";margin-right:8px;width:",";"],(function(e){return"sm"===e.$size?"1rem":"2rem"}),(function(e){return"sm"===e.$size?"1rem":"2rem"}));t.a=function(e){var t=e.text,n=e.size,r=void 0===n?"md":n;return Object(d.jsxs)(b,{children:[Object(d.jsx)(j,{$size:r}),t&&Object(d.jsx)(v,{children:t})]})}},63:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(52);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},64:function(e,t,n){"use strict";var r=n(7),c=(n(0),n(1)),a=r.c.div.withConfig({displayName:"SectionHeader__Container",componentId:"sc-pl37pr-0"})(["display:flex;justify-content:space-between;margin-bottom:20px;"]);t.a=function(e){var t=e.title,n=e.children;return Object(c.jsxs)(a,{children:[Object(c.jsx)("h2",{children:t}),n]})}},69:function(e,t,n){var r=n(42),c=Object.prototype,a=c.hasOwnProperty,o=c.toString,i=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,i),n=e[i];try{e[i]=void 0;var r=!0}catch(u){}var c=o.call(e);return r&&(t?e[i]=n:delete e[i]),c}},70:function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},78:function(e,t,n){var r=n(42),c=n(79),a=n(40),o=n(51),i=r?r.prototype:void 0,u=i?i.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return c(t,e)+"";if(o(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},79:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,c=Array(r);++n<r;)c[n]=t(e[n],n,e);return c}},80:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(0),c=function(){var e=Object(r.useRef)(!1);return Object(r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),Object(r.useCallback)((function(){return e.current}),[])}},81:function(e,t,n){"use strict";var r=n(0),c=n(1),a=function(e){var t=e.text;return Object(c.jsx)("div",{className:"alert alert-danger",role:"alert",children:t})};t.a=Object(r.memo)(a)}}]);
//# sourceMappingURL=5.26f58a3a.chunk.js.map